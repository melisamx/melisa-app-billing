/*!
 * Melisa Tasks 1.0.0
 * Copyright (c) 2014-2017 Melisa
 * 2018-04-04 04:04:41
 */
Ext.define("Melisa.billing.view.desktop.customersBanksAccounts.Grid",{extend:"Ext.grid.Panel",alias:"widget.billingCustomersBanksAccountsGrid",requires:["Melisa.ux.grid.Filters","Melisa.ux.confirmation.Button"],emptyText:"No hay cuentas bancarías asociadas",deferEmptyText:!0,bind:{store:"{customersBanksAccounts}"},columns:[{dataIndex:"id",text:"Id",hidden:!0},{dataIndex:"bank",text:"Banco",flex:1},{dataIndex:"account",text:"Cuenta",flex:1},{dataIndex:"coin",text:"Moneda",flex:1},{xtype:"booleancolumn",text:"Activo",dataIndex:"active",trueText:"Si",falseText:"No",align:"center",width:180},{dataIndex:"createdAt",text:"Fecha creación",flex:1},{dataIndex:"updatedAt",text:"Fecha modificación",flex:1,hidden:!0},{xtype:"widgetcolumn",width:30,widget:{xtype:"button",iconCls:"x-fa fa-trash",tooltip:"Eliminar cuenta bancaría",bind:{melisa:"{record.active ? modules.customersBanksAccountsDeactivate : modules.customersBanksAccountsActivate}",hidden:"{record.active ? !modules.customersBanksAccountsDeactivate.allowed : !modules.customersBanksAccountsActivate.allowed}",iconCls:'{record.active ? "x-fa fa-thumbs-down" : "x-fa fa-thumbs-up" }',tooltip:'{record.active ? "Desactivar" : "Activar"}'},plugins:{ptype:"buttonconfirmation",getMessageConfirmation:function(){var a=this,b=a.getCmp(),c=b.getViewModel().get("record"),d="¿Realmente desea ";return d+(c.get("active")?"desactivar":"activar")+" la cuenta bancaría?"},getMessageSuccess:function(){var a=this,b=a.getCmp(),c=b.getViewModel().get("record");return"Cuenta bancaría "+(c.get("active")?"desactivada":"activada")}}}},{xtype:"widgetcolumn",width:30,widget:{xtype:"button",iconCls:"x-fa fa-trash",tooltip:"Eliminar cuenta bancaría",bind:{melisa:"{modules.customersBanksAccountsDelete}",hidden:"{!modules.customersBanksAccountsDelete.allowed}"},plugins:{ptype:"buttonconfirmation",messageSuccess:"Cuenta bancaría eliminada"}}}],selModel:{selType:"checkboxmodel"},bbar:{xtype:"pagingtoolbar",displayInfo:!0},plugins:[{ptype:"autofilters",filters:{bank:{operator:"like"},coin:{operator:"like"}},filtersIgnore:["id","cratedAt","updatedAt"]}],features:[{ftype:"grouping"}]});